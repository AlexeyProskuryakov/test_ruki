# Preparing
```
pip install py-postgresql
```

# Db
```
psql -a -U postgres --password -f grants.sql
psql -a -d hotels -U hotels_manager -f schema.sql
```

# Info (ru)

Так как вразумительной формы заказа на сайте repetitors.info найдено не было, я решил предстваить себе заказ
как сущность включающую в себя 2 элемента: список телефонов и детали.
Таким образом имеется три таблицы (см schema.sql): пользователи, телефоны, заказы. Телефоны и заказы ссылаюстя по user_id
c таблицей пользователей.

Первая задача решается при помощи регулярных выражений (см функцию parse_phone_numbers). На вход: текст, на выходе найденные
телефоны в типе int (для более оптимального хранения в последствии и оперирования числами, а не строками). Впрочем, от этого
становится сложнее искать по части номера телефона, зато выигрываем по 4 байта на каждом телефоне.
Сохраняется заказ в методе класса DataBase - save_order, в котором происходит проверка наличия телефоных номеров, и соответствующая логика:
если хоть один номер уже есть, то увеличиваем список телефонов у пользователя. Если сохраненных телефонов нет, то производим добавление.

Вторая задача реализована в методе класса DataBase - get_orders_by_phone, который возвращает все заказы пользователя которому принадлежит
введеный телефон.

Результат снабжен минимальными тестами и интерактивом:
```
python app.py
```


